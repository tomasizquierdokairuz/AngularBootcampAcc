"use strict";(self.webpackChunkspotify=self.webpackChunkspotify||[]).push([[706],{3706:(y,p,d)=>{d.r(p),d.d(p,{AdminModule:()=>E});var s=d(6814),g=d(2413),t=d(4946),_=d(553),T=d(9862);let m=(()=>{class n{constructor(e){this.http=e,this.URL=_.N.api}getAllTracks$(){return console.log("ok getAllTracks servicio"),this.http.get("https://backend-spotify-bootcamps-tribe.onrender.com/api/1.0/tracks")}addTrack$(e){return this.http.post("https://backend-spotify-bootcamps-tribe.onrender.com/api/1.0/tracks/add",e)}updateTrack$(e){return this.http.put(`https://backend-spotify-bootcamps-tribe.onrender.com/api/1.0/tracks/edit/${e.uid}`,e)}deleteTrack$(e){return this.http.delete(`https://backend-spotify-bootcamps-tribe.onrender.com/api/1.0/tracks/delete/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(T.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u=(()=>{class n{constructor(e){this.adminService=e,this.tracksTrending=[]}ngOnInit(){console.log("ok loadDataAll"),this.loadDataAll()}loadDataAll(){this.adminService.getAllTracks$().subscribe(e=>{console.log("ok getAllTracks",e);const{data:o}=e;console.log("ok getAllTracks",o),console.log("ok getAllTracks",o.uid),this.tracksTrending=o})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-page"]],decls:2,vars:1,consts:[[1,"admin-page"],[3,"tracks"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-add-edit",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("tracks",o.tracksTrending))}}),n})();const h=[{path:"",component:u}];let f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(h),g.Bz]}),n})();var k=d(6066),l=d(95);let C=(()=>{class n{transform(e){const c=Math.floor(e/3600),r=Math.floor((e-3600*c)/60);return c+" h "+r+" m "+(e-3600*c-60*r)+" s"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"minuteSeconds",type:n,pure:!0}),n})();function A(n,a){1&n&&t.GkF(0)}const b=function(n){return{track:n}};function Z(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ul",45)(1,"li",46),t.YNc(2,A,1,0,"ng-container",47),t.qZA(),t.TgZ(3,"li",48),t._uU(4),t.qZA(),t.TgZ(5,"li",48),t._uU(6),t.ALo(7,"minuteSeconds"),t.qZA(),t.TgZ(8,"li",48),t._uU(9),t.qZA(),t.TgZ(10,"li",48)(11,"button",49),t.NdJ("click",function(){const r=t.CHM(e).$implicit,i=t.oxw();return t.KtG(i.deleteTrack(r.uid))}),t.TgZ(12,"li")(13,"i",50),t._uU(14,"Borrar"),t.qZA()()(),t.TgZ(15,"button",49),t.NdJ("click",function(){const r=t.CHM(e).$implicit,i=t.oxw();return t.KtG(i.editTrack(r))}),t.TgZ(16,"li")(17,"i",4),t._uU(18,"Editar"),t.qZA()()()()()}if(2&n){const e=a.$implicit;t.oxw();const o=t.MAs(94);t.xp6(2),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(7,b,e)),t.xp6(2),t.hij(" \u{1f534} ",e.album," "),t.xp6(2),t.hij(" ",t.lcZ(7,5,e.durationEnd)," "),t.xp6(3),t.hij(" ",e.artist," ")}}function v(n,a){if(1&n&&(t.TgZ(0,"div",51),t._UZ(1,"img",52),t.TgZ(2,"div",53)(3,"div",54),t._uU(4),t.qZA(),t.TgZ(5,"div",55),t._uU(6),t.qZA()()()),2&n){const e=a.track;t.xp6(1),t.Q6J("src",e.cover,t.LSH)("alt",e.name),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(e.artist.name)}}let M=(()=>{class n{constructor(e,o){this.adminService=e,this.adminpage=o,this.tracks=[],this.tracksTrending=[],this.Tracks=null,this.trackToUpdate={name:"",album:"",cover:"",artist:"",durationStart:"",durationEnd:"",url:"",userEmail:"",uid:""},this.visibleForm=!1}ngOnInit(){}addNewTrack(e){this.adminService.addTrack$(e.value).subscribe({next:o=>{console.log(o),e.reset(),this.visibleForm=!1,this.adminpage.loadDataAll()},error:o=>{console.log("Fall\xf3 el ingreso")},complete:()=>console.info("Ingreso correcto")})}deleteTrack(e){console.log("ok loadDataAll cargo"),this.adminService.deleteTrack$(e).subscribe({next:o=>{console.log(o),this.visibleForm=!1,this.adminpage.loadDataAll()},error:console.log})}editTrack(e){console.log("Llegamos al edit",e),this.trackToUpdate=e,this.visibleForm=!0}insert(){console.log("Llegamos al insert"),this.visibleForm=!0,this.trackToUpdate={name:"",album:"",cover:"",artist:"",durationStart:"",durationEnd:"",url:"",userEmail:"",uid:""}}updateTrack(){console.log(this.trackToUpdate),this.adminService.updateTrack$(this.trackToUpdate).subscribe({next:e=>{console.log(e,this.trackToUpdate),this.visibleForm=!1},error:e=>{console.log(e)}})}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m),t.Y36(u))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-edit"]],inputs:{tracks:"tracks"},decls:95,vars:14,consts:[[1,"container"],[1,"content",2,"align-items","center"],[1,"row"],["color","warn",3,"hidden","click"],[1,"uil","uil-pen"],[1,"content",2,"padding","20px",3,"hidden"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"ngSubmit"],["newTrackForm","ngForm"],[1,"form-group",3,"hidden"],["for","uid"],["type","text","disabled","","name","uid","id","uid","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],["uid",""],[1,"form-group"],["for","name"],["type","text","name","name","id","name","placeholder","Nombre de la canci\xf3n",1,"form-control",3,"ngModel","ngModelChange"],["name",""],["for","album"],["type","text","name","album","id","album","placeholder","Nombre del album",1,"form-control",3,"ngModel","ngModelChange"],["album",""],["for","cover"],["type","text","name","cover","id","cover","placeholder","Cover del album",1,"form-control",3,"ngModel","ngModelChange"],["cover",""],["for","artist"],["type","text","name","artist","id","artist","placeholder","Nombre del artista",1,"form-control",3,"ngModel","ngModelChange"],["artist",""],["for","durationStart"],["type","number","name","durationStart","id","durationStart","placeholder","Inicio en segundos",1,"form-control",3,"ngModel","ngModelChange"],["durationStart",""],["for","durationEnd"],["type","number","name","durationEnd","id","durationEnd","placeholder","Fin en segundos",1,"form-control",3,"ngModel","ngModelChange"],["durationEnd",""],["for","url"],["type","text","name","url","id","url","placeholder","URL",1,"form-control",3,"ngModel","ngModelChange"],["url",""],["type","text","name","userEmail","id","userEmail","placeholder","EMail del usuario",1,"form-control",3,"ngModel","ngModelChange"],["userEmail",""],[1,"action"],["type","submit",1,"btn","btn-primary","w-100",3,"value","click"],[1,"add-edit"],[1,"add-edit-table-header"],[1,"uil","uil-package"],["class","add-edit-rows",4,"ngFor","ngForOf"],["coverSection",""],[1,"add-edit-rows"],[1,"track-name"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"track-name-opacity"],["color","warn",3,"click"],[1,"uil","uil-trash-alt"],[1,"cover-section"],["appImgBroken","",1,"cover-track",3,"src","alt"],[1,"cover-info"],[1,"name-track"],[1,"name-track-details"]],template:function(e,o){if(1&e){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"M\xf3dulo de administraci\xf3n"),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return o.insert()}),t.TgZ(6,"li")(7,"i",4),t._uU(8,"Insertar"),t.qZA()()()(),t._UZ(9,"br"),t.TgZ(10,"div",5)(11,"div",2)(12,"button",6),t.NdJ("click",function(){return o.visibleForm=!1}),t.TgZ(13,"span",7),t._uU(14,"\xd7"),t.qZA()()(),t._UZ(15,"br"),t.TgZ(16,"form",8,9),t.NdJ("ngSubmit",function(){t.CHM(c);const i=t.MAs(17);return t.KtG(""!==o.trackToUpdate.uid?o.updateTrack():o.addNewTrack(i))}),t.TgZ(18,"div",2)(19,"div",10)(20,"label",11),t._uU(21,"UID: "),t.qZA(),t.TgZ(22,"input",12,13),t.NdJ("ngModelChange",function(i){return o.trackToUpdate.uid=i}),t.qZA()()(),t._UZ(24,"br"),t.TgZ(25,"div",2)(26,"div",14)(27,"label",15),t._uU(28,"Nombre de la canci\xf3n: "),t.qZA(),t.TgZ(29,"input",16,17),t.NdJ("ngModelChange",function(i){return o.trackToUpdate.name=i}),t.qZA()(),t.TgZ(31,"div",14)(32,"label",18),t._uU(33,"Nombre del album: "),t.qZA(),t.TgZ(34,"input",19,20),t.NdJ("ngModelChange",function(i){return o.trackToUpdate.album=i}),t.qZA()(),t.TgZ(36,"div",14)(37,"label",21),t._uU(38,"Cover del album: "),t.qZA(),t.TgZ(39,"input",22,23),t.NdJ("ngModelChange",function(i){return o.trackToUpdate.cover=i}),t.qZA()()(),t._UZ(41,"br"),t.TgZ(42,"div",2)(43,"div",14)(44,"label",24),t._uU(45,"Nombre del artista: "),t.qZA(),t.TgZ(46,"input",25,26),t.NdJ("ngModelChange",function(i){return o.trackToUpdate.artist=i}),t.qZA()()(),t._UZ(48,"br"),t.TgZ(49,"div",2)(50,"div",14)(51,"label",27),t._uU(52,"Inicio: "),t.qZA(),t.TgZ(53,"input",28,29),t.NdJ("ngModelChange",function(i){return o.trackToUpdate.durationStart=i}),t.qZA()(),t.TgZ(55,"div",14)(56,"label",30),t._uU(57,"Fin: "),t.qZA(),t.TgZ(58,"input",31,32),t.NdJ("ngModelChange",function(i){return o.trackToUpdate.durationEnd=i}),t.qZA()(),t.TgZ(60,"div",14)(61,"label",33),t._uU(62,"URL: "),t.qZA(),t.TgZ(63,"input",34,35),t.NdJ("ngModelChange",function(i){return o.trackToUpdate.url=i}),t.qZA()()(),t._UZ(65,"br"),t.TgZ(66,"div",2)(67,"div",14)(68,"label",33),t._uU(69,"EMail del usuario: "),t.qZA(),t.TgZ(70,"input",36,37),t.NdJ("ngModelChange",function(i){return o.trackToUpdate.userEmail=i}),t.qZA()()(),t._UZ(72,"br"),t.TgZ(73,"div",2)(74,"div",38)(75,"input",39),t.NdJ("click",function(){return o.visibleForm=!1}),t.qZA()()()()(),t.TgZ(76,"div",40)(77,"ul",41)(78,"li"),t._uU(79,"Nombre \u2764"),t.qZA(),t.TgZ(80,"li"),t._uU(81,"\xe1lbum \u{1f197}"),t.qZA(),t.TgZ(82,"li"),t._uU(83,"Duraci\xf3n \u{1f34c}\u{1f601}"),t.qZA(),t.TgZ(84,"li"),t._uU(85,"Artista \u{1f34c}\u{1f601}"),t.qZA(),t.TgZ(86,"li"),t._UZ(87,"i",42),t.qZA()(),t.YNc(88,Z,19,9,"ul",43),t._UZ(89,"br")(90,"br")(91,"br")(92,"br"),t.qZA(),t.YNc(93,v,7,4,"ng-template",null,44,t.W1O),t.qZA()}2&e&&(t.xp6(5),t.Q6J("hidden",o.visibleForm),t.xp6(5),t.Q6J("hidden",!o.visibleForm),t.xp6(9),t.Q6J("hidden",""!==o.trackToUpdate.uid),t.xp6(3),t.Q6J("ngModel",o.trackToUpdate.uid),t.xp6(7),t.Q6J("ngModel",o.trackToUpdate.name),t.xp6(5),t.Q6J("ngModel",o.trackToUpdate.album),t.xp6(5),t.Q6J("ngModel",o.trackToUpdate.cover),t.xp6(7),t.Q6J("ngModel",o.trackToUpdate.artist),t.xp6(7),t.Q6J("ngModel",o.trackToUpdate.durationStart),t.xp6(5),t.Q6J("ngModel",o.trackToUpdate.durationEnd),t.xp6(5),t.Q6J("ngModel",o.trackToUpdate.url),t.xp6(7),t.Q6J("ngModel",o.trackToUpdate.userEmail),t.xp6(5),t.Q6J("value",""===o.trackToUpdate.uid?"Ingresar":"Actualizar"),t.xp6(13),t.Q6J("ngForOf",o.tracks))},dependencies:[s.sg,s.tP,k.d,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.F,C],styles:[".add-edit[_ngcontent-%COMP%]{padding:1rem 2rem}.add-edit-table-header[_ngcontent-%COMP%]{width:90%;list-style:none;display:grid;grid-template-columns:2fr 2fr 2fr 1fr 1fr;margin:0;padding:0;font-size:90%;letter-spacing:1px;border-bottom:solid 1px var(--color-2);padding-bottom:.5rem}.add-edit-table-header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--color-4);opacity:.7}.add-edit-rows[_ngcontent-%COMP%]{width:90%;list-style:none;display:grid;grid-template-columns:2fr 2fr 2fr 1fr 1fr;margin:0;padding:1rem 0 0}.add-edit-rows[_ngcontent-%COMP%]   .track-name-opacity[_ngcontent-%COMP%]{opacity:.7;font-weight:300}.cover-section[_ngcontent-%COMP%]{display:flex;padding:0}.cover-section[_ngcontent-%COMP%]   .cover-track[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover}.cover-section[_ngcontent-%COMP%]   .cover-info[_ngcontent-%COMP%]{padding:0 1rem}.cover-section[_ngcontent-%COMP%]   .cover-info[_ngcontent-%COMP%]   .name-track-details[_ngcontent-%COMP%]{font-size:80%;opacity:.7}.content[_ngcontent-%COMP%]{padding-top:10px}.row[_ngcontent-%COMP%]{display:flex;gap:10px}.row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%}.action[_ngcontent-%COMP%]{padding:0 25px 20px}.action[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1}"]}),n})();var U=d(6208);let E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,f,U.m,l.u5]}),n})();t.B6R(u,[M],[])}}]);